#include "BatSymbol.h"

float _rotation;

static GLint vertices[][3] =
{

	{ 85768,  229536, 32768 },
	{ 85768,  65536, 32768 },
	{ 32068,  150536, 32768 },
	{ -9768,  109536, 32768 },
	{ -30768,  95536, 32768 },
	{ 38768,  65536, 32768 }, //sayap kiri
	{ -31768,  65536, 32768 },
	{ -40768,  88536, 32768 },
	{ -32768,  32768, 32768 },
	{ 32768,  32768, 32768 },
	{ -32768, 0, 32768 },
	{ -65536,  0, 32768 }, //ekor
	{ 32768, 0, 32768 },
	{ 62768,  32768, 32768 },
	{ 32768,  -32768, 32768 },
	{ 62768,  -32768, 32768 },
	{ -32768,  -32768, 32768 },
	{ 38768,  -65536, 32768 }, //sayap kanan
	{ -31768,  -65536, 32768 },
	{ -30768,  -95536, 32768 },
	{ -40768,  -88536, 32768 },
	{ 85768,  -65536, 32768 },
	{ -9768,  -109536, 32768 },
	{ 32068,  -150536, 32768 },
	{ 85768,  -229536, 32768 },

	{ 85768,  229536, 62768 },
	{ 85768,  65536, 62768 },
	{ 32068,  150536, 62768 },
	{ -9768,  109536, 62768 },
	{ -30768,  95536, 62768 },
	{ 38768,  65536, 62768 }, //sayap kiri
	{ -31768,  65536, 62768 },
	{ -40768,  88536, 62768 },
	{ -32768,  32768, 62768 },
	{ 32768,  32768, 62768 },
	{ -32768, 0, 62768 },
	{ -65536,  0, 62768 }, //ekor
	{ 32768, 0, 62768 },
	{ 62768,  32768, 62768 },
	{ 32768,  -32768, 62768 },
	{ 62768,  -32768, 62768 },
	{ -32768,  -32768, 62768 },
	{ 38768,  -65536, 62768 }, //sayap kanan
	{ -31768,  -65536, 62768 },
	{ -30768,  -95536, 62768 },
	{ -40768,  -88536, 62768 },
	{ 85768,  -65536, 62768 },
	{ -9768,  -109536, 62768 },
	{ 32068,  -150536, 62768 },
	{ 85768,  -229536, 62768 },


};


static GLint colors[][4] =
{
	{ 0x00000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x00000, 0x00000, 0x10000 },
	{ 0x10000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x10000, 0x00000, 0x10000 },
	{ 0x00000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x00000, 0x10000, 0x10000 },
	{ 0x10000, 0x10000, 0x10000, 0x10000 },
	{ 0x00000, 0x10000, 0x10000, 0x10000 },
	
};


GLubyte indices[] =
{
	
	0, 2, 1,	25, 26, 27,
	1, 2, 3,	27, 26, 28,
	1, 3, 4,	28, 26, 29,
	4, 5, 1,	29, 26, 30,
	5, 4, 6,	29, 30, 31,
	6, 4, 7,	29, 31, 32,
	5, 6, 8,	31, 30, 33,
	5, 8, 9,	33, 30, 34,
	9, 8, 10,	33, 34, 35,
	11, 10, 8,	36, 33, 35,
	10, 12, 9,	35, 34, 37,
	12, 13, 9,	34, 38, 37,
	10, 14, 12, 37, 40, 39,
	12, 14, 15,	37, 39, 35,
	14, 10, 16,	35, 39, 41,
	11, 16, 10,	35, 41, 36,
	16, 17, 14,	39, 42, 41,
	16, 18, 17,	41, 42, 43,
	18, 19, 17,	43, 42, 44,
	20, 19, 18,	43, 44, 45,
	19, 21, 17,	42, 46, 44,
	19, 22, 21,	46, 47, 44,
	22, 23, 21,	46, 48 ,47,
	23, 24, 21,	46, 49, 48,
	
	25, 2, 0,	25, 27, 2,
	27, 3, 2,	27, 28, 3,
	28, 4, 3,	28, 29, 4,
	29, 7, 4,	29, 32, 7,
	32, 6, 7,	32, 31, 6,
	31, 8, 6,	31, 33, 8,
	33, 11, 8,	33, 36, 11,
	36, 16, 11,	36, 41, 16,
	41, 18, 16,	41, 43, 18,
	43, 20, 18,	43, 45, 20,
	45, 19, 20,	45, 44, 19,
	44, 22, 19,	44, 47, 22,
	47, 23, 22,	47, 48, 23,
	48, 24, 23,	48, 49, 24,
	49, 21, 24,	49, 46, 21,
	46, 17, 21,	46, 42, 17,
	42, 14, 17,	42, 39, 14,
	39, 15, 14,	39, 40, 15,
	40, 12, 15,	40, 37, 12,
	37, 13, 12,	37, 38, 13,
	38, 9, 13,	38, 34, 9,
	34, 5, 9,	34, 30, 5,
	30, 1, 5,	30, 26, 1,
	26, 0, 1,	26, 25, 0

	
};

void BatSymbol_setupGL(double width, double height)
{
    // Initialize GL state.
    glDisable(GL_DITHER);
    glHint(GL_PERSPECTIVE_CORRECTION_HINT, GL_FASTEST);
    glClearColor(0.3f, 0.41f, 0.71f, 1.0f);
    glEnable(GL_CULL_FACE);
    glShadeModel(GL_FLAT);
    glEnable(GL_DEPTH_TEST);
	
    glViewport(0, 0, width, height);
    GLfloat ratio = (GLfloat)width / height;
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glFrustumf(-ratio, ratio, -1, 1, 1, 15);
}


void BatSymbol_tearDownGL()
{
}

void BatSymbol_update()
{
    _rotation += 3.f;

}
void BatSymbol_prepare()
{
     glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
}

void BatSymbol_draw()
{
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();
    glTranslatef(-2.0f, 0, -9.0f);
    glRotatef(_rotation, 0, 1, 0);          

    glEnableClientState(GL_VERTEX_ARRAY);
    glEnableClientState(GL_COLOR_ARRAY);

    glFrontFace(GL_CW);
    glVertexPointer(3, GL_FIXED, 0, vertices);
    glColorPointer(4, GL_FIXED, 0, colors);
	glDrawElements(GL_TRIANGLES, 288, GL_UNSIGNED_BYTE, indices);
	
}

void BatSymbol2_draw()
{
	glMatrixMode(GL_MODELVIEW);
	glLoadIdentity();
	glTranslatef(2.5f, -4.0f, -9.0f);
	glRotatef(_rotation,  1.0f , 1.0f, 0);
	glEnableClientState(GL_VERTEX_ARRAY);
	glEnableClientState(GL_COLOR_ARRAY);
	glFrontFace(GL_CW);
	glVertexPointer(3, GL_FIXED, 0, vertices);
	glColorPointer(4, GL_FIXED, 0, colors);
	glDrawElements(GL_TRIANGLES, 288, GL_UNSIGNED_BYTE, indices);
	
}

void BatSymbol3_draw()
{
	glMatrixMode(GL_MODELVIEW);
	glLoadIdentity();
	glTranslatef(2.5f, 4.0f, -9.0f);
	glRotatef(_rotation, 1.0f, 0, 1.0f);
	glEnableClientState(GL_VERTEX_ARRAY);
	glEnableClientState(GL_COLOR_ARRAY);
	glFrontFace(GL_CW);
	glVertexPointer(3, GL_FIXED, 0, vertices);
	glColorPointer(4, GL_FIXED, 0, colors);
	glDrawElements(GL_TRIANGLES, 288, GL_UNSIGNED_BYTE, indices);
	
}
